{"ast":null,"code":"export const baseUrl = 'https://auth.nomoreparties.co/'; // const checkResponse = (res) => {\n//     if (res.ok) {\n//         return res.json();\n//     } else {\n//         return Promise.reject(`Ошибка: ${res.status}`);\n//     }\n// }\n\nconst checkResponse = res => {\n  return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n};\n\nexport const register = data => {\n  return fetch(`${baseUrl}signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      data\n    })\n  }).then(checkResponse);\n};\nexport const login = (email, password) => {\n  return fetch(`${baseUrl}signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  }).then(checkResponse);\n};\nexport const checkToken = token => {\n  return fetch(`${baseUrl}users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  }).then(checkResponse);\n};","map":{"version":3,"names":["baseUrl","checkResponse","res","ok","json","Promise","reject","status","register","data","fetch","method","headers","body","JSON","stringify","then","login","email","password","checkToken","token"],"sources":["C:/Users/Почисти меня/Desktop/dev/react-mesto-auth/src/utils/auth.js"],"sourcesContent":["export const baseUrl = 'https://auth.nomoreparties.co/';\r\n\r\n// const checkResponse = (res) => {\r\n//     if (res.ok) {\r\n//         return res.json();\r\n//     } else {\r\n//         return Promise.reject(`Ошибка: ${res.status}`);\r\n//     }\r\n// }\r\n\r\nconst checkResponse = (res) => {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n\r\nexport const register = (data) => {\r\n    return fetch(`${baseUrl}signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ data })\r\n    })\r\n    .then(checkResponse);\r\n};\r\n\r\nexport const login = (email, password) => {\r\n    return fetch(`${baseUrl}signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n    .then(checkResponse);\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${baseUrl}users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(checkResponse);\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG,gCAAhB,C,CAEP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,aAAa,GAAIC,GAAD,IAAS;EAC3B,OAAOA,GAAG,CAACC,EAAJ,GAASD,GAAG,CAACE,IAAJ,EAAT,GAAsBC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAA7B;AACC,CAFL;;AAKA,OAAO,MAAMC,QAAQ,GAAIC,IAAD,IAAU;EAC9B,OAAOC,KAAK,CAAE,GAAEV,OAAQ,QAAZ,EAAqB;IAC7BW,MAAM,EAAE,MADqB;IAE7BC,OAAO,EAAE;MACL,gBAAgB;IADX,CAFoB;IAK7BC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MAAEN;IAAF,CAAf;EALuB,CAArB,CAAL,CAONO,IAPM,CAODf,aAPC,CAAP;AAQH,CATM;AAWP,OAAO,MAAMgB,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;EACtC,OAAOT,KAAK,CAAE,GAAEV,OAAQ,QAAZ,EAAqB;IAC7BW,MAAM,EAAE,MADqB;IAE7BC,OAAO,EAAE;MACL,gBAAgB;IADX,CAFoB;IAK7BC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MAAEG,KAAF;MAASC;IAAT,CAAf;EALuB,CAArB,CAAL,CAONH,IAPM,CAODf,aAPC,CAAP;AAQH,CATM;AAWP,OAAO,MAAMmB,UAAU,GAAIC,KAAD,IAAW;EACjC,OAAOX,KAAK,CAAE,GAAEV,OAAQ,UAAZ,EAAuB;IAC/BW,MAAM,EAAE,KADuB;IAE/BC,OAAO,EAAE;MACL,UAAU,kBADL;MAEL,gBAAgB,kBAFX;MAGL,iBAAkB,UAASS,KAAM;IAH5B;EAFsB,CAAvB,CAAL,CAQNL,IARM,CAQDf,aARC,CAAP;AASH,CAVM"},"metadata":{},"sourceType":"module"}